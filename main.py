import telebot
import random
import time
import threading

# –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞
TOKEN = "8357091966:AAE_bsrgQAvwjb410w3vk7lLd2Dq6rxCheU"
bot = telebot.TeleBot(TOKEN)

# –°–ø–∏—Å–æ–∫ —Ü–∏—Ç–∞—Ç (–º–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω—è—Ç—å –≤—Ä—É—á–Ω—É—é)
quotes = [
    ("¬´–ü–æ–∑–Ω–∞–π —Å–∞–º–æ–≥–æ —Å–µ–±—è.¬ª", "–°–æ–∫—Ä–∞—Ç"),
    ("¬´–ú—ã —Ç–æ, —á—Ç–æ –º—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –¥–µ–ª–∞–µ–º. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ ‚Äî —ç—Ç–æ –Ω–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∞ –ø—Ä–∏–≤—ã—á–∫–∞.¬ª", "–ê—Ä–∏—Å—Ç–æ—Ç–µ–ª—å"),
    ("¬´–ß–µ–ª–æ–≤–µ–∫ —Ä–æ–∂–¥–µ–Ω —Å–≤–æ–±–æ–¥–Ω—ã–º, –Ω–æ –≤—Å—é–¥—É –æ–Ω –≤ —Ü–µ–ø—è—Ö.¬ª", "–ñ–∞–Ω-–ñ–∞–∫ –†—É—Å—Å–æ"),
    ("¬´–¢–æ—Ç, –∫—Ç–æ –∏–º–µ–µ—Ç '–∑–∞—á–µ–º' –∂–∏—Ç—å, –º–æ–∂–µ—Ç –≤—ã–Ω–µ—Å—Ç–∏ –ø–æ—á—Ç–∏ –ª—é–±–æ–µ '–∫–∞–∫'.¬ª", "–§—Ä–∏–¥—Ä–∏—Ö –ù–∏—Ü—à–µ"),
    ("¬´–ù–µ –≤ —Å–∏–ª–µ –ë–æ–≥, –∞ –≤ –ø—Ä–∞–≤–¥–µ.¬ª", "–§.–ú. –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π"),
    ("¬´–°—á–∞—Å—Ç—å–µ ‚Äî —ç—Ç–æ –Ω–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ –ø—É—Ç—å.¬ª", "–ë—É–¥–¥–∞"),
    ("¬´–ò—Å—Ç–∏–Ω–Ω–æ–µ –±–æ–≥–∞—Ç—Å—Ç–≤–æ ‚Äî —ç—Ç–æ —É–º–µ–Ω–∏–µ –¥–æ–≤–æ–ª—å—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è –º–∞–ª—ã–º.¬ª", "–ü–ª–∞—Ç–æ–Ω")
]

CHANNEL_ID = "@daily_philosoph"  # –ö–∞–Ω–∞–ª –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start
@bot.message_handler(commands=['start'])
def start_message(message):
    bot.reply_to(message, "üïä –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–∞–Ω–∞–ª '–ú—É–¥—Ä–æ—Å—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å'!\n\n"
                          "–ë–æ—Ç –ø—É–±–ª–∏–∫—É–µ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–µ —Ü–∏—Ç–∞—Ç—ã –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞.\n"
                          "–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Ü–∏—Ç–∞—Ç—É –≤—Ä—É—á–Ω—É—é –∫–æ–º–∞–Ω–¥–æ–π /—Ü–∏—Ç–∞—Ç–∞.")

# –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ä—É—á–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ü–∏—Ç–∞—Ç—ã
@bot.message_handler(commands=['—Ü–∏—Ç–∞—Ç–∞'])
def send_quote(message):
    quote, author = random.choice(quotes)
    formatted = f"üìú *–ú—É–¥—Ä–æ—Å—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å* üïä\n\n{quote}\n‚Äî _{author}_\n\nüí¨ #–§–∏–ª–æ—Å–æ—Ñ–∏—è #–ú—É–¥—Ä–æ—Å—Ç—å\nüí≥ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç: 2200 2460 3013 9912 (–í–¢–ë)"
    bot.send_message(message.chat.id, formatted, parse_mode='Markdown')

# –§–æ–Ω–æ–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
def send_quote_periodically():
    while True:
        quote, author = random.choice(quotes)
        formatted = f"üìú *–ú—É–¥—Ä–æ—Å—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å* üïä\n\n{quote}\n‚Äî _{author}_\n\nüí¨ #–§–∏–ª–æ—Å–æ—Ñ–∏—è #–ú—É–¥—Ä–æ—Å—Ç—å\nüí≥ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç: 2200 2460 3013 9912 (–í–¢–ë)"
        try:
            bot.send_message(CHANNEL_ID, formatted, parse_mode='Markdown')
            print(f"‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {quote} ‚Äî {author}")
        except Exception as e:
            print("‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:", e)
        time.sleep(7200)  # –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞

# –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞
threading.Thread(target=send_quote_periodically, daemon=True).start()

print("‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...")
bot.infinity_polling()

